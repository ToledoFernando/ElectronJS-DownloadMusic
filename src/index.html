<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./style.css" />
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
  </head>
  <body>
    <div class="title">
      <h1 class="titleh1"></h1>
    </div>
    <div class="buscar">
      <input type="text" placeholder="Link URL" id="searchURL" />
      <button id="Buscar">Buscar</button>
    </div>
    <br />
    <p id="infoSearch">Buscando Informacion...</p>

    <span class="img" id="img"></span>

    <div id="video">
      <div class="eliminar">
        <button id="eliminar">X</button>
      </div>
      <h1 id="titleMusic">Titulo de la musica</h1>
      <div class="downloadMusic">
        <button id="downloadMusic">Descargar</button>
      </div>
      <div id="barra">
        <span id="porcentaje">00.00%</span>
        <div id="progres"></div>
      </div>
    </div>
    <h1 class="aviso">Descargar Musica de YouTube</h1>

    <script>
      var options = {
        strings: ["Indique la URL de la musica  "],
        typeSpeed: 50,
      };

      new Typed(".titleh1", options);

      var Stars = function (args) {
        if (args === undefined) args = {};
        var _scope = this;

        this.stars = [];
        this.vel = args.vel || 1;
        this.radius = args.radius || 1;
        this.alpha = 0.5;
        this.starsCounter = args.stars || 300;
        var center = {
          x: window.innerWidth / 2,
          y: window.innerHeight / 2,
        };
        var canvas, context;
        this.init = function () {
          canvas = document.createElement("canvas");
          document.body.appendChild(canvas);
          context = canvas.getContext("2d");
          context.lineCap = "round";
          this.start();
          this.resize();
          //
          window.addEventListener("resize", this.resize.bind(this));
        };

        this.start = function () {
          this.stars = [];
          for (var i = 0; i < this.starsCounter; i++) {
            setTimeout(function () {
              _scope.stars.push(new Star());
            }, i * 30);
          }
        };

        this.resize = function () {
          canvas.width = window.innerWidth;
          canvas.height = window.innerHeight;
          center.x = canvas.width / 2;
          center.y = canvas.height / 2;
        };

        this.animate = function () {
          window.requestAnimationFrame(this.animate.bind(this));
          this.render();
        };
        this.render = function () {
          context.fillStyle = "#000";
          context.fillRect(0, 0, canvas.width, canvas.height);
          context.strokeStyle = "white";
          for (var i = 0; i < this.stars.length; i++) this.stars[i].update();
        };

        var Star = function () {
          this.x = center.x;
          this.y = center.y;
          this.init = function () {
            this.radius = Math.random() * _scope.radius;
            this.x = center.x;
            this.y = center.y;
            this.lineWidth = 0;
            this.vel = {
              x: Math.random() * 10 - 5,
              y: Math.random() * 10 - 5,
            };
          };
          this.update = function () {
            this.vel.x *= 1.05;
            this.vel.y *= 1.05;
            this.lineWidth += 0.035;
            this.x0 = this.x;
            this.y0 = this.y;
            this.x += this.vel.x;
            this.y += this.vel.y;
            this.draw();
            if (this.isDead()) this.init();
          };
          this.draw = function () {
            context.beginPath();
            context.moveTo(this.x0, this.y0);
            context.lineTo(this.x, this.y);
            context.lineWidth = this.lineWidth;
            context.stroke();
          };
          this.isDead = function () {
            return (
              this.x < 0 ||
              this.x > canvas.width ||
              this.y < 0 ||
              this.y > canvas.height
            );
          };
          this.init();
          return this;
        };
        this.init();
        this.animate();
        return this;
      };

      var _stars = new Stars();
    </script>
    <script src="./index.js"></script>
  </body>
</html>
